![Go 1.24.1](https://img.shields.io/badge/go-1.24.1-blue.svg) ![License: MIT](https://img.shields.io/badge/license-MIT-green.svg)

# Base-Go-API-Engine

–ë–∞–∑–æ–≤—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π REST‚ÄëAPI –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [chi](https://github.com/go-chi/chi) –∏ PostgreSQL. –ü—Ä–æ–µ–∫—Ç —Å–ª—É–∂–∏—Ç –æ—Ç–ø—Ä–∞–≤–Ω–æ–π —Ç–æ—á–∫–æ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —É—á–µ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤.

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)  
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)  
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)  
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)  
  - [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)  
  - [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)  
  - [–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π](#–∑–∞–ø—É—Å–∫-–º–∏–≥—Ä–∞—Ü–∏–π)  
  - [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∑–∞–ø—É—Å–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)  
- [API Endpoints](#api-endpoints)  
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—É–ª—É—á—à–µ–Ω–∏—é)  
- [–í–æ–∑–º–æ–∂–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è](#–≤–æ–∑–º–æ–∂–Ω—ã–µ-–æ–±–ª–∞—Å—Ç–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è)  
- [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)  
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)  

---

## –û–ø–∏—Å–∞–Ω–∏–µ

Base-Go-API-Engine ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–∞—Ä–∫–∞—Å HTTP‚Äë—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Go. –í–∫–ª—é—á–∞–µ—Ç:

- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ ¬´—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ¬ª (cmd, internal, pkg).  
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.  
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL —Å –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.  
- –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ä–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ chi –∏ middleware (–ª–æ–≥–≥–∏–Ω–≥, —Ç–∞–π–º–∞—É—Ç, Recoverer).  
- SQL‚Äë–º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–æ–≤ (up/down).  

–¶–µ–ª—å ‚Äî –¥–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è API‚Äë–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
.
‚îú‚îÄ‚îÄ .air.toml              # –ö–æ–Ω—Ñ–∏–≥ live‚Äëreload (Air)
‚îú‚îÄ‚îÄ docker-compose.yml     # PostgreSQL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ go.mod                 # –ú–æ–¥—É–ª–∏ Go
‚îú‚îÄ‚îÄ cmd
‚îÇ   ‚îú‚îÄ‚îÄ api                # HTTP‚Äë—Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components     # –†–æ—É—Ç—ã –∏ handlers
‚îÇ   ‚îî‚îÄ‚îÄ migrate            # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ migrations     # SQL‚Äë—Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ internal
‚îÇ   ‚îú‚îÄ‚îÄ config             # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ db                 # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ env                # –ß—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ store              # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (CRUD –¥–ª—è users/posts)
‚îú‚îÄ‚îÄ scripts
‚îÇ   ‚îî‚îÄ‚îÄ initDb.sql         # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ë–î
‚îî‚îÄ‚îÄ .gitignore
```

- **cmd/api** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ HTTP‚Äë—Å–µ—Ä–≤–µ—Ä–∞, —Å–æ–∑–¥–∞—ë—Ç `Application`, –º–æ–Ω—Ç–∏—Ä—É–µ—Ç —Ä–æ—É—Ç—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `http.Server`.  
- **cmd/migrate** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SQL‚Äë–º–∏–≥—Ä–∞—Ü–∏–π –≤—Ä—É—á–Ω—É—é.  
- **internal/db** ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ `database/sql`, –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ `PingContext`.  
- **internal/env** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `GetString`, `GetInt`.  
- **internal/store** ‚Äî —Å–ª–æ–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º: `UsersStore`, `PostStore`.  
- **internal/config** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤).  

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- [Go 1.24](https://golang.org/)  
- [chi v5](https://github.com/go-chi/chi) ‚Äî –ª—ë–≥–∫–∏–π HTTP‚Äë—Ä–æ—É—Ç–µ—Ä  
- [pq v1.10](https://github.com/lib/pq) ‚Äî PostgreSQL‚Äë–¥—Ä–∞–π–≤–µ—Ä  
- [Air](https://github.com/cosmtrek/air) ‚Äî hot‚Äëreload –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
- Docker & Docker Compose ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î  

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.24+  
- Docker & Docker¬†Compose  
- `make` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º–æ—Ç—Ä–∏—Ç–µ `internal/config/config.go`):

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è               | –û–ø–∏—Å–∞–Ω–∏–µ                             | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                          |
| ------------------------ | ------------------------------------ | ----------------------------------------------- |
| `ADDR`                   | –ê–¥—Ä–µ—Å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è HTTP‚Äë—Å–µ—Ä–≤–µ—Ä–∞     | `:8080`                                         |
| `DB_ADDR`                | DSN –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL     | `postgres://postgres:password@localhost/appdb?sslmode=disable` |
| `DB_MAX_OPEN_CONNS`      | –ú–∞–∫—Å–∏–º—É–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π         | `100`                                           |
| `DB_MAX_IDLE_CONNS`      | –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ—Å—Ç–∞–∏–≤–∞—é—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π    | `100`                                           |
| `DB_MAX_IDLE_TIME_MINS`  | –í—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä `15m`) | `15m`                                      |

### –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞ (—Å–∫—Ä–∏–ø—Ç `scripts/initDb.sql` –∏–ª–∏ `psql`).  
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
   ```bash
   psql "$DB_ADDR" -f cmd/migrate/migrations/000001_create_users.up.sql
   psql "$DB_ADDR" -f cmd/migrate/migrations/000002_create_posts.up.sql
   ```

*(–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å `github.com/golang-migrate/migrate` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.)*

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ß–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up -d db
go run cmd/api/main.go
```

#### –õ–æ–∫–∞–ª—å–Ω–æ —Å Air

```bash
air
```

#### –ë–µ–∑ live‚Äëreload

```bash
go build -o bin/main.exe ./cmd/api
./bin/main.exe
```

---

## API¬†Endpoints

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å            | –û–ø–∏—Å–∞–Ω–∏–µ               | –û—Ç–≤–µ—Ç             |
| ----- | --------------- | ---------------------- | ----------------- |
| GET   | `/v1/status`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ API   | `OK: it works`    |

> *–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å-—á–µ–∫. –î–æ–ø–æ–ª–Ω–∏—Ç–µ CRUD-—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –¥–ª—è `users` –∏ `posts`.*

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ—Å—Ç–æ–≤**  
   ‚Äì –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `GET`, `POST`, `PUT`, `DELETE` –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤.  
2. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**  
   ‚Äì JWT, OAuth2, RBAC.  
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö**  
   ‚Äì `go-playground/validator`, middleware.  
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**  
   ‚Äì Swagger / OpenAPI, `swaggo/swag`.  
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**  
   ‚Äì `zap`/`logrus`, OpenTelemetry.  
6. **–¢–µ—Å—Ç—ã**  
   ‚Äì Unit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, mock-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.  
7. **CI/CD**  
   ‚Äì GitHub Actions, Docker Hub, Helm-—á–∞—Ä—Ç—ã.  
8. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**  
   ‚Äì Redis –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –¥–∞–Ω–Ω—ã—Ö.  
9. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏**  
   ‚Äì Prometheus, Grafana.  

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Go.  
- –£—á–µ–±–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ Go‚Äë–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.  
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã API.  
- –ë—ç–∫–µ–Ω–¥ –¥–ª—è SPA / –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.  

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

üìß dim4dmi7rij@yandex.ru
üìß dimaprihodko180@gmail.com
üì± +7 904 926‚Äí57‚Äí29  

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

```